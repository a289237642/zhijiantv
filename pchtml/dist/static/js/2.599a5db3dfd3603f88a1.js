webpackJsonp([2],{"43if":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("fZjL"),s=i.n(a),n={name:"sensitivewordsManagement",data:function(){var t=this;return{editModal:!1,table:{columns:[{title:"敏感词",key:"sensitive_words",align:"center"},{title:"操作",align:"center",render:function(e,i){return e("div",[e("i",{attrs:{class:"iconfont icon-edit"},on:{click:function(){t.showEditModal("edit",i.row)}}}),e("i",{attrs:{class:"iconfont icon-delete"},style:{color:"#ffc639"},on:{click:function(){t.$Modal.confirm({content:"确定删除吗?",onOk:function(){t.$http.post(t.PATH.DELSENSITIVEWORDS,{sensitive_id:[i.row.sensitive_id]}).then(function(e){0===e.data.errno&&t.getSensitiveList()})}})}}})])}}],data:[]},formValidate:{type:"new",row:{},sensitive_words:""},ruleValidate:{sensitive_words:[{required:!0,message:"请输入一级关键词",trigger:"blur"}]}}},methods:{getSensitiveList:function(){var t=this;this.$http.get(this.PATH.SENSITIVEWORDSLS).then(function(e){0==e.data.errno?0!==s()(e.data.data).length?t.table.data=[e.data.data]:t.table.data=[]:t.$Modal.error({width:360,content:e.data.errmsg})})},showEditModal:function(t,e){this.formValidate.type=t,"new"==t?(this.$refs.formValidate.resetFields(),this.formValidate.sensitive_words="",this.formValidate.style=1):(this.formValidate.sensitive_words=e.sensitive_words,this.formValidate.sensitive_id=e.sensitive_id,this.formValidate.style=2),this.editModal=!0},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var i=e.formValidate.type,a=e.PATH.SENSITIVEWORDSUPDATE,s=new Object;s="new"==i?{sensitive_words:e.formValidate.sensitive_words,style:e.formValidate.style}:{sensitive_id:e.formValidate.sensitive_id,sensitive_words:e.formValidate.sensitive_words,style:e.formValidate.style},e.$http.post(a,s).then(function(t){0===t.data.errno&&(e.editModal=!1,e.getSensitiveList())})}else e.$Message.error("Fail!")})}},created:function(){this.getSensitiveList()}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"sensitivewordsManagement"}},[i("div",{staticClass:"h1"},[t._v("\n    文章敏感词管理\n    ")]),t._v(" "),i("div",{staticClass:"header"},[0===t.table.data.length?i("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:function(e){t.showEditModal("new")}}},[t._v("新增")]):t._e()],1),t._v(" "),i("Table",{staticClass:"zhijian-table account-table",attrs:{stripe:"",columns:t.table.columns,data:t.table.data}}),t._v(" "),i("Modal",{attrs:{"mask-closable":!1,width:"535","class-name":"ma-edit-modal"},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[i("div",{staticClass:"edit-modal-body"},[i("Icon",{attrs:{type:"android-close"},on:{click:function(e){t.editModal=!1}}}),t._v(" "),"new"==t.formValidate.type?i("div",{staticClass:"title"},[t._v("新增标签")]):t._e(),t._v(" "),"edit"==t.formValidate.type?i("div",{staticClass:"title"},[t._v("编辑标签")]):t._e(),t._v(" "),i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":100}},[i("FormItem",{attrs:{label:"敏感词",prop:"sensitive_words"}},[i("Input",{attrs:{autosize:"",type:"textarea",placeholder:"关键词之间请用逗号隔开"},model:{value:t.formValidate.sensitive_words,callback:function(e){t.$set(t.formValidate,"sensitive_words",e)},expression:"formValidate.sensitive_words"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"zhijian-btn-box"},[i("div",{staticClass:"zhijian-btn-confirm",on:{click:function(e){t.submitForm("formValidate")}}},[t._v("确定")])])])],1)},staticRenderFns:[]};var r=i("VU/8")(n,o,!1,function(t){i("Jwu4")},null,null);e.default=r.exports},Cdx3:function(t,e,i){var a=i("sB3e"),s=i("lktj");i("uqUo")("keys",function(){return function(t){return s(a(t))}})},Jwu4:function(t,e){},fZjL:function(t,e,i){t.exports={default:i("jFbC"),__esModule:!0}},jFbC:function(t,e,i){i("Cdx3"),t.exports=i("FeBl").Object.keys},uqUo:function(t,e,i){var a=i("kM2E"),s=i("FeBl"),n=i("S82l");t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],o={};o[t]=e(i),a(a.S+a.F*n(function(){i(1)}),"Object",o)}}});