webpackJsonp([24],{ECB0:function(t,e){},qmsT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"headImage",data:function(){return{imgList:[]}},methods:{withUpload:function(){document.getElementById("inputFile").click()},onUpload:function(t){var e=this,i=t.target.files||t.dataTransfer.files;if(i.length){var a=t.target.files[0].type;if(/^image/.test(a)){var n=new FileReader;n.readAsDataURL(i[0]),n.onload=function(){(new FormData).append("data",this.result);e.$post(e.PATH.UPUPUP,{type:"jpg",data:this.result}).then(function(t){0===t.data.errno?e.getList():e.$Modal.error({title:"提示",content:t.data.errmsg})},function(t){e.$Modal.error({title:"提示",content:t.data.msg})})}}}},getList:function(){var t=this;this.$post(this.PATH.IMAGE_STORE,{pagesize:1e5}).then(function(e){0===e.data.errno&&(t.imgList=e.data.image_list)})},deleteImg:function(t){var e=this;this.$post(this.PATH.DEL_IMAGE,{image_id:t}).then(function(t){0===t.data.errno?(e.$Modal.success({title:"提示",content:"删除成功"}),e.getList()):e.$Modal.error({title:"提示",content:t.data.errmsg})})}},created:function(){this.getList()}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"headImage"}},[i("div",{staticClass:"h1"},[t._v("头像库")]),t._v(" "),i("div",{staticClass:"header"},[i("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:t.withUpload}},[t._v("上传头像")])],1),t._v(" "),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"inputFile",accept:"image/gif, image/jpeg, image/png, image/jpg"},on:{change:function(e){t.onUpload(e)}}}),t._v(" "),i("div",{staticClass:"headImage_list"},t._l(t.imgList,function(e,a){return i("div",[i("img",{attrs:{src:e.pic}}),t._v(" "),i("div",{on:{click:function(i){t.deleteImg(e.image_id)}}},[i("i",{staticClass:"iconfont icon-delete"})])])}))])},staticRenderFns:[]};var s=i("VU/8")(a,n,!1,function(t){i("ECB0")},"data-v-4dd40d37",null);e.default=s.exports}});