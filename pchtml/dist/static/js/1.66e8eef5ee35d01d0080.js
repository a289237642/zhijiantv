webpackJsonp([1],{CnJm:function(e,t,a){e.exports=a.p+"static/img/curse_4.131996f.jpg"},GXKo:function(e,t,a){e.exports=a.p+"static/img/curse_1.5411f69.jpg"},VVWr:function(e,t){},aBFf:function(e,t,a){e.exports=a.p+"static/img/curse_3.b5d897c.jpg"},gU03:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"schoolManagement",data:function(){return{module1:null,module2:null,module3:null,module4:null,module5:null,moduleIndex:null,moduleName:null}},created:function(){this.getInfo(1)},methods:{changeTabs:function(e){switch(e){case"name1":this.getInfo(1);break;case"name2":this.getInfo(2);break;case"name3":this.getInfo(3);break;case"name4":this.getInfo(4);break;case"name5":this.getInfo(5)}},getInfo:function(e){var t=this;this.$http.post(this.PATH.GET_PCLESSONS,{module_id:e}).then(function(a){0===a.data.errno?1===e?(t.module1=a.data.data,t.module1.list[0].name="banner1",t.module1.list[1].name="banner2",t.module1.list[2].name="banner3"):2===e?(t.module2=a.data.data,t.module2.list[0].name="banner4"):3===e?t.module3=a.data.data:4===e?t.module4=a.data.data:5===e&&(t.module5=a.data.data,t.module5.list[0].name="banner5",t.module5.list[1].name="banner6",t.module5.list[2].name="banner7"):t.$Modal.error({title:"提示",content:a.data.errmsg})})},submitInfo:function(e,t){var a=this;this.$http.post(this.PATH.EDIT_LESSONS,e).then(function(e){0===e.data.errno?(a.getInfo(t),a.$Modal.error({title:"提示",content:"提交成功！"})):a.$Modal.error({title:"提示",content:e.data.errmsg})})},withUpload:function(e,t){this.moduleIndex=e,this.moduleName=t,document.getElementById("inputFile").click()},onUpload:function(e){var t=this,a=e.target.files||e.dataTransfer.files;if(a.length){var l=e.target.files[0].type;if(/^image/.test(l)){var n=new FileReader;n.readAsDataURL(a[0]),n.onload=function(){(new FormData).append("data",this.result);t.$http.post("/api/v1_0/uploadimage",{type:"jpg",data:this.result}).then(function(e){"0"==e.data.status?"module1"===t.moduleName?t.module1.list[t.moduleIndex].url=e.data.url:"module2"===t.moduleName?t.module2.list[t.moduleIndex].url=e.data.url:"module3"===t.moduleName?t.module3.list[t.moduleIndex].url=e.data.url:"module4"===t.moduleName?t.module4.list[t.moduleIndex].url=e.data.url:"module5"===t.moduleName&&(t.module5.list[t.moduleIndex].url=e.data.url):t.$Modal.error({title:"提示",content:e.data.msg})},function(e){t.$Modal.error({title:"提示",content:e.data.msg})})}}}},submitRe:function(e){var t=void 0;switch(e){case"module1":(t=this.module1).moduleId=1,this.submitInfo(t,1);break;case"module2":(t=this.module2).moduleId=2,this.submitInfo(t,2);break;case"module3":(t=this.module3).moduleId=3,this.submitInfo(t,3);break;case"module4":(t=this.module4).moduleId=4,this.submitInfo(t,4);break;case"module5":(t=this.module5).moduleId=5,this.submitInfo(t,5)}}}},n={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"schoolManagement"}},[l("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"inputFile",accept:"image/gif, image/jpeg, image/png, image/jpg"},on:{change:function(t){e.onUpload(t)}}}),e._v(" "),l("Tabs",{attrs:{value:"name1"},on:{"on-click":e.changeTabs}},[l("TabPane",{attrs:{label:"模块一",name:"name1"}},[e.module1?l("div",{staticClass:"schoolManagement_container"},[l("div",[e._l(e.module1.list,function(t,a){return l("div",{staticClass:"schoolManagement_part"},[l("div",[e._v(e._s(t.name))]),e._v(" "),l("div",{on:{click:function(t){e.withUpload(a,"module1")}}},[""!==t.url?l("img",{attrs:{src:t.url}}):e._e()]),e._v(" "),l("div",[l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:t.val},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})],1)])}),e._v(" "),l("div",{staticClass:"schoolManagement_btn"},[l("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:function(t){e.submitRe("module1")}}},[e._v("提交")])],1)],2),e._v(" "),l("div",[l("img",{attrs:{src:a("GXKo")}})])]):e._e()]),e._v(" "),l("TabPane",{attrs:{label:"模块二",name:"name2"}},[e.module2?l("div",{staticClass:"schoolManagement_container"},[l("div",[l("div",{staticClass:"schoolManagement_head"},[l("div",[l("label",[e._v("模块二名称")]),e._v(" "),l("Input",{attrs:{type:"text",placeholder:"请输入名称",value:e.module2.moduleName},model:{value:e.module2.moduleName,callback:function(t){e.$set(e.module2,"moduleName",t)},expression:"module2.moduleName"}})],1)]),e._v(" "),e._l(e.module2.list,function(t,a){return l("div",{staticClass:"schoolManagement_part"},[l("div",[e._v(e._s(t.name))]),e._v(" "),l("div",{on:{click:function(t){e.withUpload(a,"module2")}}},[""!==t.url?l("img",{attrs:{src:t.url}}):e._e()]),e._v(" "),l("div",[l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:t.val},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})],1)])}),e._v(" "),l("div",{staticClass:"schoolManagement_btn"},[l("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:function(t){e.submitRe("module2")}}},[e._v("提交")])],1)],2),e._v(" "),l("div",[l("img",{attrs:{src:a("n4zI")}})])]):e._e()]),e._v(" "),l("TabPane",{attrs:{label:"模块三",name:"name3"}},[e.module3?l("div",{staticClass:"schoolManagement_container"},[l("div",[l("div",{staticClass:"schoolManagement_head"},[l("div",[l("label",[e._v("模块三名称")]),e._v(" "),l("Input",{attrs:{type:"text",placeholder:"请输入名称",value:e.module3.moduleName},model:{value:e.module3.moduleName,callback:function(t){e.$set(e.module3,"moduleName",t)},expression:"module3.moduleName"}})],1),e._v(" "),l("div",[l("label",[e._v("查看全部    ")]),e._v(" "),l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:e.module3.path},model:{value:e.module3.path,callback:function(t){e.$set(e.module3,"path",t)},expression:"module3.path"}})],1)]),e._v(" "),e._l(e.module3.list,function(t,a){return l("div",{staticClass:"schoolManagement_part"},[l("div",[e._v(e._s(a+1))]),e._v(" "),l("div",{on:{click:function(t){e.withUpload(a,"module3")}}},[""!==t.url?l("img",{attrs:{src:t.url}}):e._e()]),e._v(" "),l("div",[l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:t.val},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})],1),e._v(" "),l("div",[l("i-switch",{on:{onChange:function(e){t.status=!t.status}},model:{value:t.status,callback:function(a){e.$set(t,"status",a)},expression:"item.status"}})],1)])}),e._v(" "),l("div",{staticClass:"schoolManagement_btn"},[l("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:function(t){e.submitRe("module3")}}},[e._v("提交")])],1)],2),e._v(" "),l("div",[l("img",{attrs:{src:a("aBFf")}})])]):e._e()]),e._v(" "),l("TabPane",{attrs:{label:"模块四",name:"name4"}},[e.module4?l("div",{staticClass:"schoolManagement_container"},[l("div",[l("div",{staticClass:"schoolManagement_head"},[l("div",[l("label",[e._v("模块四名称")]),e._v(" "),l("Input",{attrs:{type:"text",placeholder:"请输入名称",value:e.module4.moduleName},model:{value:e.module4.moduleName,callback:function(t){e.$set(e.module4,"moduleName",t)},expression:"module4.moduleName"}})],1),e._v(" "),l("div",[l("label",[e._v("查看全部    ")]),e._v(" "),l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:e.module4.path},model:{value:e.module4.path,callback:function(t){e.$set(e.module4,"path",t)},expression:"module4.path"}})],1)]),e._v(" "),e._l(e.module4.list,function(t,a){return l("div",{staticClass:"schoolManagement_part"},[l("div",[e._v(e._s(a+1))]),e._v(" "),l("div",{on:{click:function(t){e.withUpload(a,"module4")}}},[""!==t.url?l("img",{attrs:{src:t.url}}):e._e()]),e._v(" "),l("div",[l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:t.val},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})],1),e._v(" "),l("div",[l("i-switch",{on:{onChange:function(e){t.status=!t.status}},model:{value:t.status,callback:function(a){e.$set(t,"status",a)},expression:"item.status"}})],1)])}),e._v(" "),l("div",{staticClass:"schoolManagement_btn"},[l("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:function(t){e.submitRe("module4")}}},[e._v("提交")])],1)],2),e._v(" "),l("div",[l("img",{attrs:{src:a("CnJm")}})])]):e._e()]),e._v(" "),l("TabPane",{attrs:{label:"模块五",name:"name5"}},[e.module5?l("div",{staticClass:"schoolManagement_container"},[l("div",[l("div",{staticClass:"schoolManagement_head"},[l("div",[l("label",[e._v("模块五名称")]),e._v(" "),l("Input",{attrs:{type:"text",placeholder:"请输入名称",value:e.module5.moduleName},model:{value:e.module5.moduleName,callback:function(t){e.$set(e.module5,"moduleName",t)},expression:"module5.moduleName"}})],1),e._v(" "),l("div",[l("label",[e._v("查看全部    ")]),e._v(" "),l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:e.module5.path},model:{value:e.module5.path,callback:function(t){e.$set(e.module5,"path",t)},expression:"module5.path"}})],1)]),e._v(" "),e._l(e.module5.list,function(t,a){return l("div",{staticClass:"schoolManagement_part"},[l("div",[e._v(e._s(t.name))]),e._v(" "),l("div",{on:{click:function(t){e.withUpload(a,"module5")}}},[t.url?l("img",{attrs:{src:t.url}}):e._e()]),e._v(" "),l("div",[l("Input",{attrs:{type:"text",placeholder:"请输入跳转路径",value:t.val},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})],1)])}),e._v(" "),l("div",{staticClass:"schoolManagement_btn"},[l("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:function(t){e.submitRe("module5")}}},[e._v("提交")])],1)],2),e._v(" "),l("div",[l("img",{attrs:{src:a("xbeW")}})])]):e._e()])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,n,!1,function(e){a("VVWr")},"data-v-e32f5f7c",null);t.default=o.exports},n4zI:function(e,t,a){e.exports=a.p+"static/img/curse_2.640fd6c.jpg"},xbeW:function(e,t,a){e.exports=a.p+"static/img/curse_5.4651039.jpg"}});