webpackJsonp([27],{"1JQO":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"userList",data:function(){return{value:"",is_search:!1,table:{page:1,pagesize:10,total:50,columns:[{title:"头像",key:"avatar_url",render:function(t,e){return t("img",{style:{width:"35px",height:"35px"},attrs:{src:e.row.avatar_url}})}},{title:"昵称",key:"nick_name",align:"center"},{title:"性别",key:"gender",align:"center",render:function(t,e){return t("p",1==e.row.gender?"男":"女")}},{title:"手机号",key:"phone",align:"center"},{title:"授权登录时间",key:"create_time",align:"center"}],data:[]},startDate:"",endDate:""}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.post(this.PATH.GETUSERLIST,{page:this.table.page,size:this.table.pagesize}).then(function(e){200==e.status&&(0==e.data.errno?(t.table.data=e.data.list,t.table.total=e.data.total):t.$Modal.error({width:360,content:e.data.errmsg}))})},changePage:function(t){this.table.page=t,this.is_search?this.search():this.getData()},search:function(){var t=this;this.is_search=!0,this.$http.post(this.PATH.USERSEARCH,{words:this.value,page:this.table.page,pagesize:this.table.pagesize,start_time:this.startDate,end_time:this.endDate}).then(function(e){200==e.status&&(t.table.data=e.data.data,t.table.total=e.data.count)})},changePages:function(){this.table.page=1},getStart:function(t){this.startDate=t},getEnd:function(t){this.endDate=t}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"userList"}},[a("div",{staticClass:"h1"},[t._v("用户列表")]),t._v(" "),a("div",{staticClass:"header"},[a("Input",{staticClass:"search",attrs:{search:"","enter-button":"搜索",placeholder:"请输入搜索关键字"},on:{"on-search":t.search,"on-blur":t.changePages},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("div",{staticClass:"date"},[a("DatePicker",{staticStyle:{width:"220px"},attrs:{type:"datetime",placeholder:"开始日期"},on:{"on-change":t.getStart},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v("至\n      "),a("DatePicker",{staticStyle:{width:"220px"},attrs:{type:"datetime",placeholder:"结束日期"},on:{"on-change":t.getEnd},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1),t._v(" "),a("Table",{staticClass:"zhijian-table account-table",attrs:{stripe:"",columns:t.table.columns,data:t.table.data}}),t._v(" "),a("div",{staticClass:"zhijian-pagination"},[a("Page",{attrs:{total:t.table.total,current:t.table.page,"show-elevator":"",pageSize:t.table.pagesize},on:{"on-change":t.changePage}})],1)],1)},staticRenderFns:[]};var i=a("VU/8")(n,s,!1,function(t){a("29Z8")},"data-v-4606eecb",null);e.default=i.exports},"29Z8":function(t,e){}});