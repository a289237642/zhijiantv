webpackJsonp([13],{I675:function(t,e){},TUPF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"tipoffList",data:function(){var t=this;return{name0:"name0",paramses:{},modal1:!1,modal:!1,value:"",group_id:1,groupidname:"",onlinelist:[],online:[],checkedArc:[],table:{total:10,totalAll:10,totalSearch:10,page:1,pagesize:10,is_show:1},formValidate:{sort:"",onlinecategory:""},ruleValidate:{sort:[{required:!0,message:"序号",trigger:"blur"}],content:[{required:!0,message:"请选择上线类型",trigger:"blur"}]},columns1:[{type:"selection",title:"全选",width:60,align:"center"},{title:"序号",key:"location",align:"center"},{title:"抓取来源（名称）",key:"wechat_name",align:"center"},{title:"公众号ID",key:"alias",align:"center"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("i-button",{attrs:{title:""},style:{marginRight:"10px"},on:{click:function(){t.paramses=a,t.checkedArc.push(a.row.wechat_id),t.modal1=!0}}},"重置")])}}],columns2:[{type:"selection",title:"全选",width:60,align:"center"},{title:"序号",key:"location",align:"center"},{title:"抓取来源（名称）",key:"wechat_name",align:"center"},{title:"公众号ID",key:"alias",align:"center"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("i-button",{attrs:{title:""},style:{marginRight:"10px"},on:{click:function(){t.paramses=a,t.checkedArc.push(a.row.wechat_id),t.modal=!0}}},"重置")])}}],data1:[],data2:[]}},created:function(){this.getgroups(),this.getArticlesAll()},methods:{getArticlesAll:function(){var t=this;this.$http.post(this.PATH.WECHATNAMELIST,{page:this.table.page,pagesize:this.table.pagesize,is_show:1}).then(function(e){200==e.status&&(t.data2=e.data.data,t.table.totalAll=e.data.count)})},getArticles:function(){var t=this;this.$http.post(this.PATH.WECHATNAMEGROUP,{group_id:this.groupidname,page:this.table.page,pagesize:this.table.pagesize}).then(function(e){200==e.status&&(t.data1=e.data.data,t.table.total=e.data.count)})},handTabClick:function(t){this.name0=t,this.is_search=!1,this.groupidname=t,this.changePages(),"name0"==t?this.getArticlesAll():this.getArticles()},downlineArc:function(t){var e=this;this.checkedArc=[],t.forEach(function(t){e.checkedArc.push(t.wechat_id)})},downArc:function(t){var e=this;this.checkedArc=[],t.forEach(function(t){e.checkedArc.push(t.wechat_id)})},downline1:function(){var t,e=this;t={wechat_id_list:this.checkedArc,group_id:this.groupidname},this.$http.post(this.PATH.RESETWECHATGROUP,t).then(function(t){200==t.status&&(e.getArticles(),e.checkedArc=[])})},downline:function(){var t,e=this;this.paramses;t={wechat_id_list:this.checkedArc,group_id:this.groupidname},this.$http.post(this.PATH.RESETWECHATGROUP,t).then(function(t){200==t.status&&(e.getArticles(),e.checkedArc=[])})},ok:function(){this.modal1=!1,this.downline()},ok1:function(){var t=this;this.modal=!1;var e;this.paramses;e={wechat_id_list:this.checkedArc},this.$http.post(this.PATH.RESETWECHATGROUP,e).then(function(e){200==e.status&&(t.getArticlesAll(),t.checkedArc=[])})},changePages:function(){this.table.page=1},changePage:function(t){this.table.page=t,this.getArticles()},changePageAll:function(t){this.table.page=t,this.getArticlesAll()},getgroups:function(){var t=this;this.$http.get(this.PATH.PCGROUPS).then(function(e){0==e.data.errno?(t.onlinelist=e.data.data.map(function(t){return{group_id:parseInt(t.group_id.slice(2)),group_name:t.group_name}}),t.groupidname=t.onlinelist[0].group_id,t.getArticles()):t.$Modal.error({width:360,content:e.data.errmsg})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tipoffList"}},[a("h1",[t._v("公众号列表")]),t._v(" "),a("Button",{staticClass:"newbtn zhijian-new-btn",attrs:{type:"primary"},on:{click:t.downline1}},[t._v("批量重置")]),t._v(" "),a("Tabs",{attrs:{value:t.name0},on:{"on-click":t.handTabClick}},[a("TabPane",{attrs:{label:"全部",name:"name0"}},[a("Table",{ref:"selection",staticClass:"tip-table",attrs:{border:"",columns:t.columns2,data:t.data2},on:{"on-selection-change":t.downArc,"on-select-all":t.downlineArc}}),t._v(" "),a("div",{staticClass:"zhijian-pagination"},[a("Page",{attrs:{total:t.table.totalAll,current:t.table.page,"show-elevator":"",pageSize:t.table.pagesize},on:{"on-change":t.changePageAll}})],1)],1),t._v(" "),t._l(t.onlinelist,function(e){return a("TabPane",{key:e.group_id,attrs:{label:e.group_name,name:e.group_id+"",value:e.group_id}},[a("Table",{ref:"selection",refInFor:!0,staticClass:"tip-table",attrs:{border:"",columns:t.columns1,data:t.data1},on:{"on-selection-change":t.downArc,"on-select-all":t.downlineArc}}),t._v(" "),a("div",{staticClass:"zhijian-pagination"},[a("Page",{attrs:{total:t.table.total,current:t.table.page,"show-elevator":"",pageSize:t.table.pagesize},on:{"on-change":t.changePage}})],1)],1)})],2),t._v(" "),a("Modal",{attrs:{title:"Common Modal dialog box title"},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("p",{staticClass:"modelp"},[t._v("请确认该公众号重置")]),t._v(" "),a("div",{staticClass:"zhijian-btn-box"},[a("div",{staticClass:"zhijian-btn-confirm",on:{click:t.ok}},[t._v("确定")])])]),t._v(" "),a("Modal",{attrs:{title:"Common Modal dialog box title"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("p",{staticClass:"modelp"},[t._v("请确认该公众号重置")]),t._v(" "),a("div",{staticClass:"zhijian-btn-box"},[a("div",{staticClass:"zhijian-btn-confirm",on:{click:t.ok1}},[t._v("确定")])])])],1)},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(t){a("I675")},null,null);e.default=s.exports}});